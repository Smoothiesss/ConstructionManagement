{"version":3,"sources":["views/pages/login/Login.js","views/pages/Loading.js"],"names":["Login","props","submitForm","e","setState","loading","preventDefault","Axios","post","AppUtil","GLOBAL_API_PATH","API_LOGIN","state","model","then","response","data","success","ToastError","ToastSuccess","history","push","catch","finally","setTimeout","checkLogin","username","password","this","get","API_CHECK_LOGIN","res","store","dispatch","loginSuccessFull","error","val","name","className","md","onSubmit","value","type","placeholder","autoComplete","onChange","onChangeInput","target","style","display","justifyContent","flex","marginTop","color","onClick","zIndex","position","background","top","left","width","height","Component","Loading","React"],"mappings":"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","file":"static/js/34.433426ae.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n    CButton,\n    CCard,\n    CCardBody,\n    CCardGroup,\n    CCol,\n    CContainer,\n    CForm,\n    CInput,\n    CInputGroup,\n    CInputGroupPrepend,\n    CInputGroupText,\n    CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport Axios from 'axios';\nimport AppUtil from '../../../utils/AppUtil';\nimport { API_LOGIN, API_CHECK_LOGIN } from '../../../constants/ApiConstant'\nimport store from '../../../AppStore';\nimport { loginSuccessFull } from '../../../application/actions/appAction';\nimport Loading from '../Loading';\nimport history from '../../../history';\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            model: {\n                username: '',\n                password: '',\n            },\n            loading: true\n        };\n    }\n\n    componentDidMount() {\n        this.checkLogin();\n    }\n\n    checkLogin() {\n        Axios.get(AppUtil.GLOBAL_API_PATH + API_CHECK_LOGIN)\n            .then((res => {\n                const { data } = res;\n                this.setState({\n                    loading: false\n                });\n                if (data.success) {\n                    try {\n                        store.dispatch(loginSuccessFull(data.data))\n                    } catch (error) {\n                    } finally {\n                    }\n                }\n            }))\n            .catch(() => {\n                this.setState({\n                    loading: false\n                });\n                // ApiUtil.error();\n            })\n            .finally(() => {\n                this.setState({\n                    loading: false\n                });\n            });\n    }\n\n    submitForm = (e) => {\n        this.setState({\n            loading: true\n        });\n        e.preventDefault();\n        Axios.post(AppUtil.GLOBAL_API_PATH + API_LOGIN, this.state.model)\n            .then((response) => {\n                const { data } = response;\n                if (!data.success) {\n                    AppUtil.ToastError(\"Đăng nhập không thành công!\")\n                }\n                if (data.success) {\n                    AppUtil.ToastSuccess(\"Đăng nhập thành công!\")\n                    history.push(\"/dashboard\")\n\n                }\n            })\n            .catch(() => {\n                AppUtil.ToastError(\"Đăng nhập không thành công!\")\n            })\n            .finally(() => {\n                setTimeout(() => {\n                    this.checkLogin();\n                }, 500);\n            });\n    }\n\n    onChangeInput(val, name) {\n        const { model } = this.state;\n        model[name] = val;\n        this.setState({\n            model\n        });\n    }\n\n    render() {\n        const { username, password } = this.state\n        return (\n            <div className=\"c-app c-default-layout flex-row align-items-center\">\n                <CContainer>\n                    <CRow className=\"justify-content-center\">\n                        <CCol md=\"6\">\n                            <CCardGroup>\n                                <CCard className=\"p-4\">\n                                    <CCardBody>\n                                        <CForm onSubmit={this.submitForm}>\n                                            <h1>Login</h1>\n                                            <p className=\"text-muted\">Sign In to your account</p>\n                                            <CInputGroup className=\"mb-3\">\n                                                <CInputGroupPrepend>\n                                                    <CInputGroupText>\n                                                        <CIcon name=\"cil-user\" />\n                                                    </CInputGroupText>\n                                                </CInputGroupPrepend>\n                                                <CInput value={username}\n                                                    type=\"text\" placeholder=\"Username\"\n                                                    autoComplete=\"username\"\n                                                    onChange={(e) => this.onChangeInput(e.target.value, 'username')}\n                                                />\n                                            </CInputGroup>\n                                            <CInputGroup className=\"mb-4\" >\n                                                <CInputGroupPrepend>\n                                                    <CInputGroupText>\n                                                        <CIcon name=\"cil-lock-locked\" />\n                                                    </CInputGroupText>\n                                                </CInputGroupPrepend>\n                                                <CInput value={password}\n                                                    onChange={(e) => this.onChangeInput(e.target.value, 'password')}\n                                                    type=\"password\" placeholder=\"Password\" autoComplete=\"current-password\" />\n                                            </CInputGroup>\n\n                                            <div style={{ display: 'flex', justifyContent: 'flex-end', flex: 1, marginTop: -20 }}>\n                                                <CButton color=\"link\" className=\"px-0\">Forgot password?</CButton>\n                                            </div>\n                                            <div style={{ display: 'flex', justifyContent: 'center', flex: 1 }}>\n                                                <CButton onClick={this.submitForm} type=\"submit\" color=\"primary\" className=\"px-4\">Login</CButton>\n                                            </div>\n                                            {/* <CCol style={{display:'flex', justifyContent:'center'}} xs=\"8\">\n                                                    <CButton onClick={this.submitForm} type=\"submit\" color=\"primary\" className=\"px-4\">Login</CButton>\n                                                </CCol>\n                                                <CCol xs=\"4\" className=\"text-right\">\n                                                    <CButton color=\"link\" className=\"px-0\">Forgot password?</CButton>\n                                                </CCol> */}\n\n                                        </CForm>\n                                    </CCardBody>\n                                </CCard>\n                                {/* <CCard className=\"text-white bg-primary py-5 d-md-down-none\" style={{ width: '44%' }}>\n                                    <CCardBody className=\"text-center\">\n                                        <div>\n                                            <h2>Sign up</h2>\n                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut\n                        labore et dolore magna aliqua.</p>\n                                            <Link to=\"/register\">\n                                                <CButton color=\"primary\" className=\"mt-3\" active tabIndex={-1}>Register Now!</CButton>\n                                            </Link>\n                                        </div>\n                                    </CCardBody>\n                                </CCard> */}\n                            </CCardGroup>\n                        </CCol>\n                    </CRow>\n                </CContainer>\n                {this.state.loading ? <div style={{ zIndex: 9999, position: \"fixed\", background: \"#fff\", top: 0, left: 0, width: \"100%\", height: \"100%\" }}><Loading /></div> : null}\n\n            </div>\n        )\n    }\n\n}\n\nexport default Login\n","import React from 'react';\nimport './Loading.scss';\n\nclass Loading extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div className=\"loading\" style={{ '--n': '5' }}>\n        <div className=\"dot\" style={{ '--i': '0' }} />\n        <div className=\"dot\" style={{ '--i': '1' }} />\n        <div className=\"dot\" style={{ '--i': '2' }} />\n        <div className=\"dot\" style={{ '--i': '3' }} />\n        <div className=\"dot\" style={{ '--i': '4' }} />\n      </div>\n    );\n  }\n}\n\nexport default Loading;"],"sourceRoot":""}