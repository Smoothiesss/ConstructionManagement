{"version":3,"sources":["component/capPhoi/form/FormDetail.js","component/capPhoi/CapPhoiListView.js"],"names":["layout","labelCol","span","FormDetail","Select","Option","props","state","data","this","form","setFieldsValue","ngayTron","moment","utc","_","get","format","serialNumber","tenHopDong","macCode","khoiLuong","da","catNhanTao","catSong","xiMang","nuoc","phuGia1","phuGia2","tiTrong","nextProps","dataSet","Object","assign","setState","ref","c","name","initialValues","Item","label","type","disabled","Component","CapPhoiListView","handleOk","e","visible","handleCancel","handleOkEdit","visibleEdit","handleCancelEdit","handleOkCreate","visibleCreate","handleCancelCreate","onGridReady","params","gridApi","api","sizeColumnsToFit","loadData","me","rowData","columnDefs","headerName","valueGetter","width","field","suppressSizeToFit","cellRendererFramework","minWidth","style","display","alignItems","onClick","openFormDetail","height","marginRight","className","onDelete","rowSelect","dataMeTron","Axios","AppUtil","GLOBAL_API_PATH","API_TTMT_DETAIL","then","res","success","result","catch","ToastError","finally","onConfirmDelete","showConfirm","id","post","API_HOP_DONG_DELETE","ToastSuccess","store","dispatch","onDeleteConfirm","showLoadingOverlay","API_CAP_PHOI_DETAIL","console","log","hideOverlay","window","innerHeight","flexDirection","paddingTop","boxShadow","marginTop","justifyContent","marginBottom","color","openFormCreate","enableColResize","enableFilter","enableSorting","onFilterModified","a","onFilterChanged","title","onOk","onCancel","footer","key","size","connect","root"],"mappings":"gXAKMA,EAAS,CACXC,SAAU,CAAEC,KAAM,IA0GPC,GAvGIC,IAAXC,O,kDAGJ,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTC,KAAMF,EAAME,MAHD,E,gEAQfC,KAAKC,KAAKC,eAAe,CACrBC,SAAUC,IAAOC,IAAIC,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,4BAA4BS,OAAO,oBAC/EC,aAAcH,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,uCACrCW,WAAYJ,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,qCACnCY,QAASL,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,8BAChCa,UAAWN,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,4BAClCc,GAAIP,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,MAC3Be,WAAYR,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,cACnCgB,QAAST,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,WAChCiB,OAAQV,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,UAC/BkB,KAAMX,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,QAC7BmB,QAASZ,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,WAChCoB,QAASb,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,WAChCqB,QAASd,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,e,gDAIdsB,GACtB,GAAIA,EAAUtB,OAASC,KAAKF,MAAMC,KAAM,CACpC,IAAMuB,EAAUC,OAAOC,OAAOH,EAAUtB,KAAM,CAC1CI,SAAUG,IAAEC,IAAIc,EAAUtB,KAAM,2BAChCU,aAAcH,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,uCACrCW,WAAYJ,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,qCACnCY,QAASL,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,8BAChCa,UAAWN,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,4BAClCc,GAAIP,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,MAC3Be,WAAYR,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,cACnCgB,QAAST,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,WAChCiB,OAAQV,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,UAC/BkB,KAAMX,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,QAC7BmB,QAASZ,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,WAChCoB,QAASb,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,WAChCqB,QAASd,IAAEC,IAAIP,KAAKF,MAAMC,KAAM,aAEpCC,KAAKyB,SAAS,CACV1B,KAAMsB,EAAUtB,OAEpBC,KAAKC,KAAKC,eACNoB,M,+BAKF,IAAD,OACYtB,KAAKF,MAAdC,KACR,OACI,kBAAC,IAAD,eAAM2B,IAAK,SAAAC,GAAC,OAAI,EAAK1B,KAAO0B,IAAOpC,EAAnC,CAA2CqC,KAAK,QAAQC,cAAe7B,KAAKF,MAAMC,OAC9E,kBAAC,IAAK+B,KAAN,CAAWF,KAAK,WAAWG,MAAM,qBAC7B,kBAAC,IAAD,CAAOC,KAAM,OAAQC,UAAU,KAEnC,kBAAC,IAAKH,KAAN,CAAWF,KAAK,eAAeG,MAAM,cACjC,kBAAC,IAAD,CAAOC,KAAM,OAAQC,UAAU,KAEnC,kBAAC,IAAKH,KAAN,CAAWF,KAAK,aAAaG,MAAM,kCAC/B,kBAAC,IAAD,CAAOE,UAAU,KAErB,kBAAC,IAAKH,KAAN,CAAWF,KAAK,UAAUG,MAAM,2BAC5B,kBAAC,IAAD,CAAOE,UAAU,KAErB,kBAAC,IAAKH,KAAN,CAAWF,KAAK,YAAYG,MAAM,6BAC9B,kBAAC,IAAD,CAAOE,UAAU,KAErB,kBAAC,IAAKH,KAAN,CAAWF,KAAK,KAAKG,MAAM,cACvB,kBAAC,IAAD,CAAOC,KAAM,OAAQC,UAAU,KAEnC,kBAAC,IAAKH,KAAN,CAAWF,KAAK,aAAaG,MAAM,2BAC/B,kBAAC,IAAD,CAAOC,KAAM,OAAQC,UAAU,KAEnC,kBAAC,IAAKH,KAAN,CAAWF,KAAK,UAAUG,MAAM,kBAC5B,kBAAC,IAAD,CAAOE,UAAU,KAErB,kBAAC,IAAKH,KAAN,CAAWF,KAAK,SAASG,MAAM,gBAC3B,kBAAC,IAAD,CAAOE,UAAU,KAErB,kBAAC,IAAKH,KAAN,CAAWF,KAAK,OAAOG,MAAM,kBACzB,kBAAC,IAAD,CAAOE,UAAU,KAErB,kBAAC,IAAKH,KAAN,CAAWF,KAAK,UAAUG,MAAM,kBAC5B,kBAAC,IAAD,CAAOC,KAAM,OAAQC,UAAU,KAEnC,kBAAC,IAAKH,KAAN,CAAWF,KAAK,UAAUG,MAAM,kBAC5B,kBAAC,IAAD,CAAOC,KAAM,OAAQC,UAAU,KAEnC,kBAAC,IAAKH,KAAN,CAAWF,KAAK,UAAUG,MAAM,sBAC5B,kBAAC,IAAD,CAAOE,UAAU,U,GA7FZC,cCWnBC,E,kDACJ,WAAYtC,GAAQ,IAAD,uBACjB,cAAMA,IAqJRuC,SAAW,SAAAC,GACT,EAAKZ,SAAS,CACZa,SAAS,KAxJM,EA4JnBC,aAAe,SAAAF,GACb,EAAKZ,SAAS,CACZa,SAAS,KA9JM,EA2KnBE,aAAe,SAAAH,GAEb,EAAKZ,SAAS,CACZgB,aAAa,KA9KE,EAkLnBC,iBAAmB,SAAAL,GACjB,EAAKZ,SAAS,CACZgB,aAAa,KApLE,EA+LnBE,eAAiB,SAAAN,GAEf,EAAKZ,SAAS,CACZmB,eAAe,KAlMA,EAsMnBC,mBAAqB,SAAAR,GACnB,EAAKZ,SAAS,CACZmB,eAAe,KAxMA,EA8PnBE,YAAc,SAAAC,GACZ,EAAKC,QAAUD,EAAOE,IACtB,EAAKD,QAAQE,mBACb,EAAKC,YA/PL,IAAMC,EAAE,eAFS,OAGjB,EAAKtD,MAAQ,CACXuD,QAAS,GACTC,WAAY,CACV,CACEC,WAAY,MACZC,YAAa,oBACbC,MAAO,IAET,CACEF,WAAY,oBACZG,MAAO,0BACPD,MAAO,IACPE,mBAAmB,EACnBC,sBAAuB,SAAUb,GAC/B,OAAO3C,IAAOC,IAAIC,IAAEC,IAAIwC,EAAOhD,KAAM,4BAA4BS,OAAO,sBAG5E,CACE+C,WAAY,aACZG,MAAO,sCACPD,MAAO,IACPE,mBAAmB,GAErB,CACEJ,WAAY,iCACZG,MAAO,oCACPG,SAAU,KAEZ,CACEN,WAAY,0BACZG,MAAO,6BACPG,SAAU,KAEZ,CACEN,WAAY,4BACZG,MAAO,2BACPG,SAAU,KAEZ,CACEN,WAAY,aACZG,MAAO,KACPG,SAAU,KAEZ,CACEN,WAAY,0BACZG,MAAO,aACPD,MAAO,IACPE,mBAAmB,GAErB,CACEJ,WAAY,iBACZG,MAAO,UACPD,MAAO,IACPE,mBAAmB,GAErB,CACEJ,WAAY,eACZG,MAAO,SACPG,SAAU,KAEZ,CACEN,WAAY,iBACZG,MAAO,OACPG,SAAU,KAEZ,CACEN,WAAY,iBACZG,MAAO,UACPG,SAAU,KAEZ,CACEN,WAAY,iBACZG,MAAO,UACPG,SAAU,KAEZ,CACEN,WAAY,qBACZG,MAAO,UACPG,SAAU,KAEZ,CACEN,WAAY,yBACZG,MAAO,SACPG,SAAU,IACVD,sBAAuB,SAAUb,GAC/B,OAAO,yBAAKe,MAAO,CAAEC,QAAS,OAAQC,WAAY,WAChD,4BAAQC,QAAS,kBAAMb,EAAGc,eAAenB,EAAOhD,OAC9C+D,MAAO,CAAEK,OAAQ,GAAIC,YAAa,EAAGL,QAAS,OAAQC,WAAY,UAAYhC,KAAK,SACnFqC,UAAU,gBAFZ,qBAgBR/B,SAAS,EACTG,aAAa,EACb6B,UAAU,EACVC,UAAW,GACX3B,eAAe,EACf4B,WAAY,IAEd,EAAKxB,QAAU,GAhHE,E,gEAmHE,IAAD,OAClByB,IAAMlE,IAAImE,IAAQC,gBAAkBC,KACjCC,MAAK,SAAAC,GAAQ,IACJ/E,EAAS+E,EAAT/E,KACJA,EAAKgF,SACP,EAAKtD,SAAS,CACZ+C,WAAYzE,EAAKiF,YAItBC,OAAM,WACLP,IAAQQ,gBAETC,SAAQ,iB,gDAMa9D,GACpBA,EAAUiD,WAAatE,KAAKF,MAAMwE,WACT,IAAvBjD,EAAUiD,UACZtE,KAAKoF,gBAAgBpF,KAAKF,MAAMyE,a,qCAMvBxE,GACbC,KAAKyB,SAAS,CACZa,SAAS,EACTiC,UAAWxE,M,mCAiBFA,GACXC,KAAKyB,SAAS,CACZgB,aAAa,EACb8B,UAAWxE,M,uCAoBbC,KAAKyB,SAAS,CACZmB,eAAe,M,+BAkBV7C,GACP2E,IAAQW,cACRrF,KAAKyB,SAAS,CACZ8C,UAAWxE,M,sCAICA,GAAO,IAAD,OACdgD,EAAS,GACfA,EAAM,GAAShD,EAAKuF,GACpBb,IAAMc,KAAKb,IAAQC,gBAAkBa,IAAqB,KAAM,CAC9DzC,WAEC8B,MAAK,SAAAC,GACaA,EAAT/E,KACCgF,UACPL,IAAQe,aAAa,8CACrB,EAAKtC,eAGR8B,OAAM,WACLP,IAAQQ,gBAETC,SAAQ,WACPO,IAAMC,SAASC,aAAgB,S,iCAKzB,IAAD,OACT5F,KAAKgD,SAAWhD,KAAKgD,QAAQ6C,qBAC7BpB,IAAMlE,IAAImE,IAAQC,gBAAkBmB,KACjCjB,MAAK,SAAAC,GACJiB,QAAQC,IAAI,qCAAsClB,GADvC,IAEH/E,EAAS+E,EAAT/E,KACJA,EAAKgF,SACP,EAAKtD,SAAS,CACZ4B,QAAStD,EAAKiF,YAInBC,OAAM,WACLP,IAAQQ,gBAETC,SAAQ,WACP,EAAKnC,SAAW,EAAKA,QAAQiD,mB,+BAUzB,IAAD,OACP,OACE,yBAAK5B,UAAU,kBAAkBP,MAAO,CACtCK,OAAQ+B,OAAOC,YAAc,IAC7BnC,WAAY,UACZD,QAAS,OACTqC,cAAe,SACfC,WAAY,EAAGC,UAAW,QAC1BC,WAAY,KAEZ,yBAAKzC,MAAO,CAAEC,QAAS,OAAQyC,eAAgB,WAAYC,aAAc,IACvE,kBAAC,IAAD,CAASC,MAAM,UAAUzC,QAAS,kBAAM,EAAK0C,mBAA7C,wBAEF,kBAAC,cAAD,CACErD,WAAYtD,KAAKF,MAAMwD,WACvBsD,iBAAiB,EACjBvD,QAASrD,KAAKF,MAAMuD,QACpBwD,cAAc,EACdC,eAAe,EACfC,iBAAkB,wCAAIC,EAAJ,yBAAIA,EAAJ,uBAAU,EAAAjB,SAAQC,IAAR,SAAY,oBAAZ,OAAmCgB,KAC/DC,gBAAiB,wCAAID,EAAJ,yBAAIA,EAAJ,uBAAU,EAAAjB,SAAQC,IAAR,SAAY,mBAAZ,OAAkCgB,KAC7DlE,YAAa9C,KAAK8C,cAEpB,kBAAC,IAAD,CACEoE,MAAM,gBACN5E,QAAStC,KAAKF,MAAMwC,QACpB6E,KAAMnH,KAAKoC,SACXgF,SAAUpH,KAAKuC,aACfkB,MAAO,MACP4D,OAAQ,CACN,kBAAC,IAAD,CAAQC,IAAI,OAAOC,KAAK,QAAQvF,KAAK,SAASiC,QAASjE,KAAKuC,cAA5D,kBAGF,kBAAC,EAAD,CAAYxC,KAAMC,KAAKF,MAAMyE,aAE/B,kBAAC,IAAD,CACE2C,MAAM,sBACN5E,QAAStC,KAAKF,MAAM2C,YACpB0E,KAAMnH,KAAKwC,aACX4E,SAAUpH,KAAK0C,iBACfe,MAAO,MACP4D,OAAQ,CACN,kBAAC,IAAD,CAAQC,IAAI,SAAStF,KAAK,UAAUuF,KAAK,QAAQtD,QAASjE,KAAKwC,cAA/D,UAGA,kBAAC,IAAD,CAAQ8E,IAAI,OAAOC,KAAK,QAAQvF,KAAK,SAASiC,QAASjE,KAAK0C,kBAA5D,mBAMJ,kBAAC,IAAD,CACEwE,MAAM,oBACN5E,QAAStC,KAAKF,MAAM8C,cACpBuE,KAAMnH,KAAK2C,eACXyE,SAAUpH,KAAK6C,mBACfY,MAAO,MACP4D,OAAQ,CACN,kBAAC,IAAD,CAAQC,IAAI,SAAStF,KAAK,UAAUuF,KAAK,QAAQtD,QAASjE,KAAK2C,gBAA/D,UAGA,kBAAC,IAAD,CAAQ2E,IAAI,OAAOC,KAAK,QAAQvF,KAAK,SAASiC,QAASjE,KAAK6C,oBAA5D,wB,GAlUkBX,aA8UfsF,uBApVS,SAAC1H,GACvB,MAAO,CACLwE,SAAUxE,EAAM2H,KAAKnD,YAkVVkD,CAAyBrF","file":"static/js/39.124af0a8.chunk.js","sourcesContent":["import { Form, Input, Select } from 'antd';\nimport React, { Component } from 'react';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nconst layout = {\n    labelCol: { span: 5 },\n};\n\nconst { Option } = Select;\n\nclass FormDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: props.data\n        }\n    }\n\n    componentDidMount() {\n        this.form.setFieldsValue({\n            ngayTron: moment.utc(_.get(this.state.data, 'thongTinMeTron.ngayTron')).format(\"DD/MM/YYYY HH:mm\"),\n            serialNumber: _.get(this.state.data, 'thongTinMeTron.vehicle.serialNumber'),\n            tenHopDong: _.get(this.state.data, 'thongTinMeTron.hopDong.tenHopDong'),\n            macCode: _.get(this.state.data, 'thongTinMeTron.mac.macCode'),\n            khoiLuong: _.get(this.state.data, 'thongTinMeTron.khoiLuong'),\n            da: _.get(this.state.data, 'da'),\n            catNhanTao: _.get(this.state.data, 'catNhanTao'),\n            catSong: _.get(this.state.data, 'catSong'),\n            xiMang: _.get(this.state.data, 'xiMang'),\n            nuoc: _.get(this.state.data, 'nuoc'),\n            phuGia1: _.get(this.state.data, 'phuGia1'),\n            phuGia2: _.get(this.state.data, 'phuGia2'),\n            tiTrong: _.get(this.state.data, 'tiTrong'),\n        })\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.data !== this.state.data) {\n            const dataSet = Object.assign(nextProps.data, {\n                ngayTron: _.get(nextProps.data, 'thongTinMeTron.ngayTron'),\n                serialNumber: _.get(this.state.data, 'thongTinMeTron.vehicle.serialNumber'),\n                tenHopDong: _.get(this.state.data, 'thongTinMeTron.hopDong.tenHopDong'),\n                macCode: _.get(this.state.data, 'thongTinMeTron.mac.macCode'),\n                khoiLuong: _.get(this.state.data, 'thongTinMeTron.khoiLuong'),\n                da: _.get(this.state.data, 'da'),\n                catNhanTao: _.get(this.state.data, 'catNhanTao'),\n                catSong: _.get(this.state.data, 'catSong'),\n                xiMang: _.get(this.state.data, 'xiMang'),\n                nuoc: _.get(this.state.data, 'nuoc'),\n                phuGia1: _.get(this.state.data, 'phuGia1'),\n                phuGia2: _.get(this.state.data, 'phuGia2'),\n                tiTrong: _.get(this.state.data, 'tiTrong'),\n            })\n            this.setState({\n                data: nextProps.data\n            })\n            this.form.setFieldsValue(\n                dataSet\n            );\n        }\n    }\n\n    render() {\n        const { data } = this.state\n        return (\n            <Form ref={c => this.form = c} {...layout} name=\"basic\" initialValues={this.state.data}>\n                <Form.Item name=\"ngayTron\" label=\"Ngày trộn\">\n                    <Input type={\"text\"} disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"serialNumber\" label=\"Số xe\">\n                    <Input type={\"text\"} disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"tenHopDong\" label=\"Tên hợp đồng\">\n                    <Input disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"macCode\" label=\"Loại bê tông\">\n                    <Input disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"khoiLuong\" label=\"Khối lượng\">\n                    <Input disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"da\" label=\"Đá\">\n                    <Input type={\"text\"} disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"catNhanTao\" label=\"Cát nhân tạo\">\n                    <Input type={\"text\"} disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"catSong\" label=\"Cát sông\">\n                    <Input disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"xiMang\" label=\"Xi măng\">\n                    <Input disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"nuoc\" label=\"Nước\">\n                    <Input disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"phuGia1\" label=\"Phụ gia 1\">\n                    <Input type={\"text\"} disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"phuGia2\" label=\"Phụ gia 2\">\n                    <Input type={\"text\"} disabled={true} />\n                </Form.Item>\n                <Form.Item name=\"tiTrong\" label=\"Tỉ trọng\">\n                    <Input disabled={true} />\n                </Form.Item>\n\n            </Form>\n        );\n    }\n}\n\nexport default FormDetail;\n","import { CButton } from '@coreui/react';\nimport { AgGridReact } from \"ag-grid-react\";\nimport { Button, Modal } from 'antd';\nimport Axios from 'axios';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { onDeleteConfirm } from '../../application/actions/appAction';\nimport store from '../../AppStore';\nimport { API_HOP_DONG_DELETE, API_CAP_PHOI_DETAIL, API_TTMT_DETAIL } from '../../constants/ApiConstant';\nimport AppUtil from '../../utils/AppUtil';\n// import FormUpdate from './form/FormUpdate';\nimport FormDetail from \"./form/FormDetail\";\nimport moment from 'moment';\nimport _ from 'lodash';\n\n\nconst mapStateToProps = (state) => {\n  return {\n    onDelete: state.root.onDelete\n  };\n};\n\nclass CapPhoiListView extends Component {\n  constructor(props) {\n    super(props);\n    const me = this\n    this.state = {\n      rowData: [],\n      columnDefs: [\n        {\n          headerName: \"STT\",\n          valueGetter: \"node.rowIndex + 1\",\n          width: 80\n        },\n        {\n          headerName: \"Ngày trộn\",\n          field: \"thongTinMeTron.ngayTron\",\n          width: 150,\n          suppressSizeToFit: true,\n          cellRendererFramework: function (params) {\n            return moment.utc(_.get(params.data, 'thongTinMeTron.ngayTron')).format(\"DD/MM/YYYY HH:mm\")\n          }\n        },\n        {\n          headerName: \"Số xe\",\n          field: \"thongTinMeTron.vehicle.serialNumber\",\n          width: 130,\n          suppressSizeToFit: true\n        },\n        {\n          headerName: \"Tên Hợp đồng\",\n          field: \"thongTinMeTron.hopDong.tenHopDong\",\n          minWidth: 160\n        },\n        {\n          headerName: \"Loại bê tông\",\n          field: \"thongTinMeTron.mac.macCode\",\n          minWidth: 160,\n        },\n        {\n          headerName: \"Khối lượng\",\n          field: \"thongTinMeTron.khoiLuong\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Đá\",\n          field: \"da\",\n          minWidth: 100\n        },\n        {\n          headerName: \"Cát nhân tạo\",\n          field: \"catNhanTao\",\n          width: 150,\n          suppressSizeToFit: true\n        },\n        {\n          headerName: \"Cát sông\",\n          field: \"catSong\",\n          width: 150,\n          suppressSizeToFit: true\n        },\n        {\n          headerName: \"Xi măng\",\n          field: \"xiMang\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Nước\",\n          field: \"nuoc\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Phụ gia 1\",\n          field: \"phuGia1\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Phụ gia 2\",\n          field: \"phuGia2\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Tỉ trọng\",\n          field: \"tiTrong\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Hành động\",\n          field: \"action\",\n          minWidth: 250,\n          cellRendererFramework: function (params) {\n            return <div style={{ display: 'flex', alignItems: 'center' }}>\n              <button onClick={() => me.openFormDetail(params.data)}\n                style={{ height: 30, marginRight: 5, display: 'flex', alignItems: 'center' }} type=\"button\"\n                className=\"btn btn-info\">Chi tiết\n              </button>\n              {/* <button onClick={() => me.openFormEdit(params.data)}\n                style={{ height: 30, marginRight: 5, display: 'flex', alignItems: 'center' }} type=\"button\"\n                className=\"btn btn-success\">Chỉnh sửa\n              </button>\n              <button onClick={() => me.onDelete(params.data)}\n                style={{ height: 30, display: 'flex', alignItems: 'center' }} type=\"button\"\n                className=\"btn btn-danger\">Xóa\n              </button> */}\n            </div>\n          }\n        },\n      ],\n      visible: false,\n      visibleEdit: false,\n      onDelete: false,\n      rowSelect: {},\n      visibleCreate: false,\n      dataMeTron: []\n    }\n    this.gridApi = ''\n  }\n\n  componentDidMount() {\n    Axios.get(AppUtil.GLOBAL_API_PATH + API_TTMT_DETAIL)\n      .then(res => {\n        const { data } = res;\n        if (data.success) {\n          this.setState({\n            dataMeTron: data.result\n          })\n        }\n      })\n      .catch(() => {\n        AppUtil.ToastError();\n      })\n      .finally(() => {\n      });\n  }\n\n\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.onDelete !== this.state.onDelete) {\n      if (nextProps.onDelete === true) {\n        this.onConfirmDelete(this.state.rowSelect)\n      }\n    }\n  }\n\n  //detail\n  openFormDetail(data) {\n    this.setState({\n      visible: true,\n      rowSelect: data,\n    });\n  }\n\n  handleOk = e => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleCancel = e => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  //edit\n  openFormEdit(data) {\n    this.setState({\n      visibleEdit: true,\n      rowSelect: data,\n    });\n  }\n\n\n  handleOkEdit = e => {\n    // this.formUpdate.onFinish()\n    this.setState({\n      visibleEdit: false,\n    });\n  };\n\n  handleCancelEdit = e => {\n    this.setState({\n      visibleEdit: false,\n    });\n  };\n\n  //create\n  openFormCreate() {\n    this.setState({\n      visibleCreate: true,\n    });\n  }\n\n  handleOkCreate = e => {\n    // this.formUpdate.onFinish()\n    this.setState({\n      visibleCreate: false,\n    });\n  };\n\n  handleCancelCreate = e => {\n    this.setState({\n      visibleCreate: false,\n    });\n  };\n\n\n  onDelete(data) {\n    AppUtil.showConfirm()\n    this.setState({\n      rowSelect: data\n    })\n  }\n\n  onConfirmDelete(data) {\n    const params = {}\n    params['id'] = data.id\n    Axios.post(AppUtil.GLOBAL_API_PATH + API_HOP_DONG_DELETE, null, {\n      params\n    })\n      .then(res => {\n        const { data } = res;\n        if (data.success) {\n          AppUtil.ToastSuccess('Xóa dữ liệu thành công!');\n          this.loadData()\n        }\n      })\n      .catch(() => {\n        AppUtil.ToastError();\n      })\n      .finally(() => {\n        store.dispatch(onDeleteConfirm(false))\n      });\n  }\n\n\n  loadData() {\n    this.gridApi && this.gridApi.showLoadingOverlay();\n    Axios.get(AppUtil.GLOBAL_API_PATH + API_CAP_PHOI_DETAIL)\n      .then(res => {\n        console.log(\"CapPhoiListView -> loadData -> res\", res)\n        const { data } = res;\n        if (data.success) {\n          this.setState({\n            rowData: data.result\n          })\n        }\n      })\n      .catch(() => {\n        AppUtil.ToastError();\n      })\n      .finally(() => {\n        this.gridApi && this.gridApi.hideOverlay();\n      });\n  }\n\n  onGridReady = params => {\n    this.gridApi = params.api;\n    this.gridApi.sizeColumnsToFit();\n    this.loadData()\n  };\n\n  render() {\n    return (\n      <div className=\"ag-theme-alpine\" style={{\n        height: window.innerHeight - 180,\n        alignItems: \"stretch\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        paddingTop: 0, boxShadow: 'unset',\n        marginTop: -15\n      }}>\n        <div style={{ display: 'flex', justifyContent: 'flex-end', marginBottom: 5 }}>\n          <CButton color=\"primary\" onClick={() => this.openFormCreate()}>+ Tạo mới</CButton>\n        </div>\n        <AgGridReact\n          columnDefs={this.state.columnDefs}\n          enableColResize={true}\n          rowData={this.state.rowData}\n          enableFilter={true}\n          enableSorting={true}\n          onFilterModified={(...a) => console.log(\"onFilterModified\", ...a)}\n          onFilterChanged={(...a) => console.log(\"onFilterChanged\", ...a)}\n          onGridReady={this.onGridReady}\n        />\n        <Modal\n          title=\"Chi tiết\"\n          visible={this.state.visible}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          width={'50%'}\n          footer={[\n            <Button key=\"back\" size=\"large\" type=\"danger\" onClick={this.handleCancel}>Đóng</Button>,\n          ]}\n        >\n          <FormDetail data={this.state.rowSelect} />\n        </Modal>\n        <Modal\n          title=\"Chỉnh sửa\"\n          visible={this.state.visibleEdit}\n          onOk={this.handleOkEdit}\n          onCancel={this.handleCancelEdit}\n          width={'50%'}\n          footer={[\n            <Button key=\"submit\" type=\"primary\" size=\"large\" onClick={this.handleOkEdit}>\n              Submit\n            </Button>,\n            <Button key=\"back\" size=\"large\" type=\"danger\" onClick={this.handleCancelEdit}>Đóng</Button>,\n\n          ]}\n        >\n          {/* <FormUpdate ref={c => this.formUpdate = c} data={this.state.rowSelect}  dataMac={this.state.dataMac} loadData={() => this.loadData()} /> */}\n        </Modal>\n        <Modal\n          title=\"Tạo mới\"\n          visible={this.state.visibleCreate}\n          onOk={this.handleOkCreate}\n          onCancel={this.handleCancelCreate}\n          width={'50%'}\n          footer={[\n            <Button key=\"submit\" type=\"primary\" size=\"large\" onClick={this.handleOkCreate}>\n              Submit\n            </Button>,\n            <Button key=\"back\" size=\"large\" type=\"danger\" onClick={this.handleCancelCreate}>Đóng</Button>,\n\n          ]}\n        >\n          {/* <FormUpdate create ref={c => this.formUpdate = c} data={this.state.rowSelect} dataMac={this.state.dataMac}\n            loadData={() => this.loadData()} /> */}\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps)(CapPhoiListView);\n"],"sourceRoot":""}