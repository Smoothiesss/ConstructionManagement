{"version":3,"sources":["component/mac/form/FormUpdate.js","component/mac/form/FormDetail.js","component/mac/MacListView.js"],"names":["layout","labelCol","span","TextArea","Input","FormUpdate","props","onFinish","data","state","dataPost","form","getFieldsValue","create","Axios","post","AppUtil","GLOBAL_API_PATH","API_MAC_CREATE","then","res","success","ToastSuccess","loadData","ToastError","_","get","result","catch","finally","id","API_MAC_UPDATE","nextProps","this","setState","setFieldsValue","macCode","macName","tuoi","doSut","cat","xiMang","da","pg","nuoc","note","ref","c","name","initialValues","Item","label","disabled","type","Component","FormDetail","MacListView","handleOk","e","visible","handleCancel","handleOkEdit","formUpdate","visibleEdit","handleCancelEdit","handleOkCreate","visibleCreate","handleCancelCreate","onGridReady","params","gridApi","api","sizeColumnsToFit","me","rowData","columnDefs","headerName","valueGetter","width","field","minWidth","suppressSizeToFit","cellRendererFramework","style","display","alignItems","onClick","openFormDetail","height","marginRight","className","openFormEdit","onDelete","rowSelect","onConfirmDelete","console","log","showConfirm","API_MAC_DELETE","store","dispatch","onDeleteConfirm","showLoadingOverlay","API_MAC_DETAIL","hideOverlay","window","innerHeight","flexDirection","paddingTop","boxShadow","marginTop","justifyContent","marginBottom","color","openFormCreate","enableColResize","enableFilter","enableSorting","onFilterModified","a","onFilterChanged","title","onOk","onCancel","footer","key","size","connect","root"],"mappings":"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","file":"static/js/42.34324cf2.chunk.js","sourcesContent":["import { Form, Input, InputNumber } from 'antd';\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport _ from 'lodash'\nimport { API_CREATE_USER, API_MAC_CREATE, API_MAC_UPDATE } from \"../../../constants/ApiConstant\";\nimport AppUtil from \"../../../utils/AppUtil\";\n\nconst layout = {\n  labelCol: { span: 6 },\n};\nconst { TextArea } = Input;\n\nclass FormUpdate extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: props.data,\n      create: props.create\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.data !== this.state.data && !nextProps.create) {\n      this.setState({\n        data: nextProps.data\n      })\n      this.form.setFieldsValue(\n        nextProps.data\n      );\n    }\n    if (nextProps.create) {\n      this.form.setFieldsValue(\n        {\n          macCode: null,\n          macName: null,\n          tuoi: null,\n          doSut: null,\n          cat: null,\n          xiMang: null,\n          da: null,\n          pg: null,\n          nuoc: null,\n          note: null\n        }\n      );\n    }\n  }\n\n  onFinish = () => {\n    const { data } = this.state\n    const dataPost = this.form.getFieldsValue()\n    if (this.props.create) {\n      Axios.post(AppUtil.GLOBAL_API_PATH + API_MAC_CREATE, dataPost)\n        .then(res => {\n          const { data } = res;\n          if (data.success) {\n            AppUtil.ToastSuccess('Tạo mới dữ liệu thành công!');\n            this.props.loadData && this.props.loadData()\n          } else {\n            AppUtil.ToastError(_.get(data.result, 'SerialNumber.errors[0].errorMessage'));\n          }\n        })\n        .catch(() => {\n          AppUtil.ToastError();\n        })\n        .finally(() => {\n\n        });\n    } else {\n      dataPost.id = data.id\n      Axios.post(AppUtil.GLOBAL_API_PATH + API_MAC_UPDATE, dataPost)\n        .then(res => {\n          const { data } = res;\n          if (data.success) {\n            AppUtil.ToastSuccess('Cập nhật dữ liệu thành công!');\n            this.props.loadData && this.props.loadData()\n          }\n        })\n        .catch(() => {\n          AppUtil.ToastError();\n        })\n        .finally(() => {\n\n        });\n    }\n\n  };\n\n  render() {\n    const { data, create } = this.state;\n    return (\n      <Form ref={c => this.form = c} {...layout} name=\"basic\" onFinish={this.onFinish}\n        initialValues={create ? \"\" : data}>\n        <Form.Item name=\"macCode\" label=\"MAC CODE\">\n          <Input disabled={true} />\n        </Form.Item>\n        <Form.Item name=\"macName\" label=\"Tên loại bê tông\">\n          <Input type={\"text\"} />\n        </Form.Item>\n        <Form.Item name=\"tuoi\" label=\"Tuổi\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item name=\"doSut\" label=\"Độ sụt\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item name=\"cat\" label=\"Cát\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item name=\"xiMang\" label=\"Xi Măng\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item name=\"da\" label=\"Đá\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item name=\"pg\" label=\"Phụ gia\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item name=\"nuoc\" label=\"Nước\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item name=\"note\" label=\"Mô tả\">\n          <TextArea />\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nexport default FormUpdate;\n","import React, { Component } from 'react';\nimport {Form, Input, Button, Select, InputNumber} from 'antd';\nconst layout = {\n    labelCol: { span: 6 },\n    // wrapperCol: { span: 16 },\n};\nconst { TextArea } = Input;\n\nclass FormDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: props.data\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.data !== this.state.data) {\n            this.setState({\n                data: nextProps.data\n            })\n            this.form.setFieldsValue(\n                nextProps.data\n            );\n        }\n    }\n\n    render() {\n        return (\n            <Form ref={c => this.form = c} {...layout} name=\"basic\" initialValues={this.state.data}>\n              <Form.Item name=\"macCode\" label=\"MAC CODE\">\n                <Input type={\"text\"}  disabled={true}/>\n              </Form.Item>\n              <Form.Item name=\"macName\" label=\"Tên loại bê tông\">\n                <Input type={\"text\"} disabled/>\n              </Form.Item>\n              <Form.Item name=\"tuoi\" label=\"Tuổi\">\n                <InputNumber disabled/>\n              </Form.Item>\n              <Form.Item name=\"doSut\" label=\"Độ sụt\">\n                <InputNumber disabled/>\n              </Form.Item>\n              <Form.Item name=\"cat\" label=\"Cát\">\n                <InputNumber disabled/>\n              </Form.Item>\n              <Form.Item name=\"xiMang\" label=\"Xi Măng\">\n                <InputNumber disabled/>\n              </Form.Item>\n              <Form.Item name=\"da\" label=\"Đá\">\n                <InputNumber disabled/>\n              </Form.Item>\n              <Form.Item name=\"pg\" label=\"Phụ gia\">\n                <InputNumber disabled/>\n              </Form.Item>\n              <Form.Item name=\"nuoc\" label=\"Nước\">\n                <InputNumber disabled/>\n              </Form.Item>\n              <Form.Item name=\"note\" label=\"Mô tả\">\n                <TextArea disabled/>\n              </Form.Item>\n            </Form>\n        );\n    }\n}\n\nexport default FormDetail;\n","import {CButton} from '@coreui/react';\nimport {AgGridReact} from \"ag-grid-react\";\nimport {Button, Modal} from 'antd';\nimport Axios from 'axios';\nimport React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {onDeleteConfirm} from '../../application/actions/appAction';\nimport store from '../../AppStore';\nimport {API_MAC_DELETE, API_MAC_DETAIL} from '../../constants/ApiConstant';\nimport AppUtil from '../../utils/AppUtil';\nimport FormUpdate from './form/FormUpdate';\nimport FormDetail from \"./form/FormDetail\";\n\nconst mapStateToProps = (state) => {\n  return {\n    onDelete: state.root.onDelete\n  };\n};\n\nclass MacListView extends Component {\n  constructor(props) {\n    super(props);\n    const me = this\n    this.state = {\n      rowData: [],\n      columnDefs: [\n        {\n          headerName: \"STT\",\n          valueGetter: \"node.rowIndex + 1\",\n          width: 80\n        },\n        {\n          headerName: \"Mã bê tông\",\n          field: \"macCode\",\n          minWidth: 120,\n          suppressSizeToFit: true\n        },\n        {\n          headerName: \"Tên loại bê tông\",\n          field: \"macName\",\n          minWidth: 150,\n          suppressSizeToFit: true\n        },\n        {\n          headerName: \"Tuổi bê tông\",\n          field: \"tuoi\",\n          minWidth: 120\n        },\n        {\n          headerName: \"Độ sụt\",\n          field: \"doSut\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Cát\",\n          field: \"cat\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Xi Măng\",\n          field: \"xiMang\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Đá\",\n          field: \"da\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Phụ gia\",\n          field: \"pg\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Nước\",\n          field: \"nuoc\",\n          minWidth: 120,\n        },\n        {\n          headerName: \"Hành động\",\n          field: \"action\",\n          minWidth: 250,\n          cellRendererFramework: function (params) {\n            return <div style={{display: 'flex', alignItems: 'center'}}>\n              <button onClick={() => me.openFormDetail(params.data)}\n                      style={{height: 30, marginRight: 5, display: 'flex', alignItems: 'center'}} type=\"button\"\n                      className=\"btn btn-info\">Chi tiết\n              </button>\n              <button onClick={() => me.openFormEdit(params.data)}\n                      style={{height: 30, marginRight: 5, display: 'flex', alignItems: 'center'}} type=\"button\"\n                      className=\"btn btn-success\">Chỉnh sửa\n              </button>\n              <button onClick={() => me.onDelete(params.data)}\n                      style={{height: 30, display: 'flex', alignItems: 'center'}} type=\"button\"\n                      className=\"btn btn-danger\">Xóa\n              </button>\n            </div>\n          }\n        },\n      ],\n      visible: false,\n      visibleEdit: false,\n      onDelete: false,\n      rowSelect: {},\n      visibleCreate: false\n    }\n    this.gridApi = ''\n  }\n\n  \n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.onDelete !== this.state.onDelete) {\n      if (nextProps.onDelete === true) {\n        this.onConfirmDelete(this.state.rowSelect)\n      }\n    }\n  }\n\n  //detail\n  openFormDetail(data) {\n    console.log(data)\n    this.setState({\n      visible: true,\n      rowSelect: data,\n    });\n  }\n\n  handleOk = e => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleCancel = e => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  //edit\n  openFormEdit(data) {\n    this.setState({\n      visibleEdit: true,\n      rowSelect: data,\n    });\n  }\n\n\n  handleOkEdit = e => {\n    this.formUpdate.onFinish()\n    this.setState({\n      visibleEdit: false,\n    });\n  };\n\n  handleCancelEdit = e => {\n    this.setState({\n      visibleEdit: false,\n    });\n  };\n\n  //create\n  openFormCreate() {\n    this.setState({\n      visibleCreate: true,\n    });\n  }\n\n  handleOkCreate = e => {\n    this.formUpdate.onFinish()\n    this.setState({\n      visibleCreate: false,\n    });\n  };\n\n  handleCancelCreate = e => {\n    this.setState({\n      visibleCreate: false,\n    });\n  };\n\n\n  onDelete(data) {\n    AppUtil.showConfirm()\n    this.setState({\n      rowSelect: data\n    })\n  }\n\n  onConfirmDelete(data) {\n    const params = {}\n    params['id'] = data.id\n    Axios.post(AppUtil.GLOBAL_API_PATH + API_MAC_DELETE, null, {\n      params\n    })\n      .then(res => {\n        const {data} = res;\n        if (data.success) {\n          AppUtil.ToastSuccess('Xóa dữ liệu thành công!');\n          this.loadData()\n        }\n      })\n      .catch(() => {\n        AppUtil.ToastError();\n      })\n      .finally(() => {\n        store.dispatch(onDeleteConfirm(false))\n      });\n  }\n\n\n  loadData() {\n    this.gridApi && this.gridApi.showLoadingOverlay();\n    Axios.get(AppUtil.GLOBAL_API_PATH + API_MAC_DETAIL)\n      .then(res => {\n        const {data} = res;\n        if (data.success) {\n          this.setState({\n            rowData: data.result\n          })\n        }\n      })\n      .catch(() => {\n        AppUtil.ToastError();\n      })\n      .finally(() => {\n        this.gridApi && this.gridApi.hideOverlay();\n      });\n  }\n\n  onGridReady = params => {\n    this.gridApi = params.api;\n    this.gridApi.sizeColumnsToFit();\n    this.loadData()\n  };\n\n  render() {\n    return (\n      <div className=\"ag-theme-alpine\" style={{\n        height: window.innerHeight - 180,\n        alignItems: \"stretch\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        paddingTop: 0, boxShadow: 'unset',\n        marginTop: -15\n      }}>\n        <div style={{display: 'flex', justifyContent: 'flex-end', marginBottom: 5}}>\n          <CButton color=\"primary\" onClick={() => this.openFormCreate()}>+ Tạo mới</CButton>\n        </div>\n        <AgGridReact\n          columnDefs={this.state.columnDefs}\n          enableColResize={true}\n          rowData={this.state.rowData}\n          enableFilter={true}\n          enableSorting={true}\n          onFilterModified={(...a) => console.log(\"onFilterModified\", ...a)}\n          onFilterChanged={(...a) => console.log(\"onFilterChanged\", ...a)}\n          onGridReady={this.onGridReady}\n        />\n        <Modal\n          title=\"Chi tiết\"\n          visible={this.state.visible}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          footer={[\n            <Button key=\"back\" size=\"large\" type=\"danger\" onClick={this.handleCancel}>Đóng</Button>,\n          ]}\n        >\n          <FormDetail data={this.state.rowSelect}/>\n        </Modal>\n        <Modal\n          title=\"Chỉnh sửa\"\n          visible={this.state.visibleEdit}\n          onOk={this.handleOkEdit}\n          onCancel={this.handleCancelEdit}\n          footer={[\n            <Button key=\"submit\" type=\"primary\" size=\"large\" onClick={this.handleOkEdit}>\n              Submit\n            </Button>,\n            <Button key=\"back\" size=\"large\" type=\"danger\" onClick={this.handleCancelEdit}>Đóng</Button>,\n\n          ]}\n        >\n          <FormUpdate ref={c => this.formUpdate = c} data={this.state.rowSelect} loadData={() => this.loadData()}/>\n        </Modal>\n        <Modal\n          title=\"Tạo mới\"\n          visible={this.state.visibleCreate}\n          onOk={this.handleOkCreate}\n          onCancel={this.handleCancelCreate}\n          footer={[\n            <Button key=\"submit\" type=\"primary\" size=\"large\" onClick={this.handleOkCreate}>\n              Submit\n            </Button>,\n            <Button key=\"back\" size=\"large\" type=\"danger\" onClick={this.handleCancelCreate}>Đóng</Button>,\n\n          ]}\n        >\n          <FormUpdate create ref={c => this.formUpdate = c} data={this.state.rowSelect}\n                      loadData={() => this.loadData()}/>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps)(MacListView);\n"],"sourceRoot":""}